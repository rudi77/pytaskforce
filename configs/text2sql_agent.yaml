# Text2SQL Agent Development Configuration
# This configuration creates an agent specialized for natural language to SQL conversion
# Connects to remote MCP server for database operations

profile: text2sql_agent
agent_type: text2sql  # Use specialized Text2SQL system prompt

# Agent configuration
agent:
  enable_fast_path: true  # Enable fast-path for follow-up queries
  max_steps: 40  # Text2SQL agents need moderate steps for schema + query + validation (default: 30)
  router:
    use_llm_classification: true  # Use LLM for better accuracy in prod
    max_follow_up_length: 100  # Max query length for follow-up classification


# Persistence configuration
persistence:
  type: file  # Use file-based state manager for development
  work_dir: .taskforce_text2sql  # Working directory for text2sql agent states

# LLM configuration
llm:
  config_path: configs/llm_config.yaml  # Path to LLM config
  default_model: main  # Use gpt-4.1 for SQL generation

# Logging configuration
logging:
  level: DEBUG  # Verbose logging for development
  format: console  # Human-readable console output

# Tool configuration for Text2SQL agent
# Includes standard tools plus MCP server connection for database operations
tools:
  # Standard LLM tool for reasoning and SQL generation
  - type: LLMTool
    module: taskforce.infrastructure.tools.native.llm_tool
    params:
      model_alias: "main"  # Use powerful model for SQL generation
  
  # Python tool for data processing and validation
  - type: PythonTool
    module: taskforce.infrastructure.tools.native.python_tool
    params: {}
  
  # # File tools for reading/writing SQL queries and results
  # - type: FileReadTool
  #   module: taskforce.infrastructure.tools.native.file_tools
  #   params: {}
  
  # - type: FileWriteTool
  #   module: taskforce.infrastructure.tools.native.file_tools
  #   params: {}
  
  # # PowerShell tool for system operations
  # - type: PowerShellTool
  #   module: taskforce.infrastructure.tools.native.shell_tool
  #   params: {}
  
  # Ask user tool for clarifications
  - type: AskUserTool
    module: taskforce.infrastructure.tools.native.ask_user_tool
    params: {}

# MCP Server Configuration
# Connects to the Text2SQL MCP server for database schema inspection and query execution
mcp_servers:
  # Text2SQL Remote MCP Server (connected via SSE)
  # Provides database operations (schema inspection, query execution, etc.)
  - type: sse
    url: http://localhost:8081/sse
    env: {}  # No additional environment variables needed

